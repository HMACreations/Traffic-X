<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check Usage</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Your existing CSS styles remain unchanged */
    </style>
</head>
<body>

    <div class="container">
        <h2>Check Your Usage</h2>

        <!-- Top Box: Enter User Details -->
        <div class="grid-container">
            <div class="card">
                <h3><i class="fas fa-user" aria-label="User"></i>Enter User Details</h3>
                <form id="user-form" action="/usage" method="POST">
                    <input type="text" name="user_input" placeholder="Enter User Name" required>
                    <button type="submit">Check Usage</button>
                </form>
            </div>
        </div>

        <!-- Two Boxes Below: Server Resources and Ping Test -->
        <div class="grid-container two-column">
            <!-- Left Box: Server Resources -->
            <div class="card">
                <h3><i class="fas fa-server" aria-label="Server"></i>Server Resources</h3>
                <div class="resource-item">
                    <h4><i class="fas fa-microchip" aria-label="CPU"></i>CPU Usage</h4>
                    <p>{{ server_resources.cpu_usage }}% ({{ server_resources.cpu_cores }} cores)</p>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: {{ server_resources.cpu_usage }}%;"></div>
                    </div>
                </div>
                <div class="resource-item">
                    <h4><i class="fas fa-memory" aria-label="Memory"></i>Memory Usage</h4>
                    <p>{{ server_resources.ram_used }} / {{ server_resources.ram_total }} ({{ server_resources.ram_percent }}%)</p>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: {{ server_resources.ram_percent }}%;"></div>
                    </div>
                </div>
                <div class="resource-item">
                    <h4><i class="fas fa-hdd" aria-label="Disk"></i>Disk Usage</h4>
                    <p>{{ server_resources.disk_used }} / {{ server_resources.disk_total }} ({{ server_resources.disk_percent }}%)</p>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: {{ server_resources.disk_percent }}%;"></div>
                    </div>
                </div>
            </div>

            <!-- Right Box: Ping Test -->
            <div class="card ping-tool">
                <h3><i class="fas fa-network-wired" aria-label="Ping"></i>Ping Test</h3>
                <button id="ping-button">Ping Server</button>
                <div class="ping-result" id="ping-result">Ping: -</div>
                <div class="server-location">
                    <i class="fas fa-map-marker-alt" aria-label="Location"></i>
                    <span>Server Location: <strong id="server-location">New York, USA</strong></span>
                </div>
                <!-- Moved Server Status Here -->
                <div class="server-status">
                    <i class="fas fa-heartbeat" aria-label="Status"></i>
                    <span>Server Status: <strong id="server-status">Online</strong></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2025 Traffic-X. All rights reserved.</p>
        <div class="social-icons">
            <a href="https://www.tiktok.com/" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
            <a href="https://t.me/" target="_blank" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
            <a href="https://www.youtube.com/" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
    </div>

    <script>
        // Real-Time Ping Tool
        const pingButton = document.getElementById("ping-button");
        const pingResult = document.getElementById("ping-result");

        pingButton.addEventListener("click", async () => {
            const startTime = Date.now();
            pingResult.textContent = "Pinging...";

            try {
                const response = await fetch("/ping"); // Replace with your ping endpoint
                const endTime = Date.now();
                const pingTime = endTime - startTime;
                pingResult.textContent = `Ping: ${pingTime} ms`;
            } catch (error) {
                pingResult.textContent = "Ping failed";
            }
        });

        // Form Submission Handling
        const userForm = document.getElementById("user-form");
        userForm.addEventListener("submit", (event) => {
            event.preventDefault();
            const userName = userForm.user_input.value;
            alert(`Checking usage for: ${userName}`);
            // Add your form submission logic here
        });
    </script>

</body>
</html>
